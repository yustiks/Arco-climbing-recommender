<!doctype html>
<html lang="en">

<head>
    <title>Flask Leaflet Website</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/universal.css') }}"/>

    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css"
          integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3"
          crossorigin="anonymous">
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.0.1/dist/leaflet.css" />
    <!--[if lte IE 8]><link rel="stylesheet" href="https://cdn.leafletjs.com/leaflet-0.7.2/leaflet.ie.css" /><![endif]-->

    <link rel="stylesheet" href="{{ url_for('static', filename='css/leaflet-sidebar.css') }}" />
</head>

<body>
    <div id="map" class="sidebar-map"></div>
    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"
            integrity="sha512-XQoYMqMTK8LvdxXYG3nZ448hOEQiglfqkJs1NOQV44cWnUrBc8PkAOcXy20w0vlaXaVUearIOBhiXZ5V3ynxwA=="
            crossorigin=""></script>
    <script src="{{ url_for('static', filename='js/leaflet-sidebar.js') }}"></script>


    <div id="sidebar" class="leaflet-sidebar">
        <!-- Nav tabs -->
        <div class="leaflet-sidebar-tabs">
            <ul role="tablist"> <!-- top aligned tabs -->
                <li><a href="#profile" role="tab"><i class="fa fa-user"></i></a></li>
                <li><a href="#home" role="tab"><i class="fa fa-bars"></i></a></li>
            </ul>

            <ul role="tablist"> <!-- bottom aligned tabs -->
                <li><a href="#settings" role="tab"><i class="fa fa-gear"></i></a></li>
            </ul>
        </div>

        <!-- Tab panes -->
        <div class="leaflet-sidebar-content">
            <!-- Home -->
            <!-- List of routes -->
            <div class="leaflet-sidebar-pane" id="home">
                <h1 class="leaflet-sidebar-header">
                    sidebar-v2
                    <div class="leaflet-sidebar-close"><i class="fa fa-caret-left"></i></div>
                </h1>
                    <div class="container">
                        Hello
                    </div>
            </div>
            <!-- Profile -->
            <div class="leaflet-sidebar-pane" id="profile">
                <h1 class="leaflet-sidebar-header">
                    Pereferences
                    <div class="leaflet-sidebar-close"><i class="fa fa-caret-left"></i></div>
                </h1>
                    <div class="container">
                        <form id="form" method="get" action="recommended_crags">
                            <div>
                                <div class="mb-3">
                                    <p class="fs-3">User id:</p>
                                </div>
                                <div class="mb-3">
                                    <label for="type_recommendation" class="form-label" id="label_type_recommendation">
                                        Recommendation type</label>
                                    <select name="type_recommendation" class="form-control" id="type_recommendation">
                                        <option value="favourite" selected>Favourite moves</option>
                                        <option value="training">Training</option>
                                    </select>
                                </div>
                                <div class="mb-3">
                                    <p class="fs-5">Your preferences:</p>
                                </div>
                                <div class="mb-3">
                                    <label class="form-label" id="label_style">Favourite climbing styles</label>

                                    <input type="checkbox" class="btn-check" id="btn-athletic" autocomplete="off">
                                    <label class="btn btn-primary" for="btn-athletic">Athletic</label>

                                    <input type="checkbox" class="btn-check" id="btn-cruxy" Technical="off">
                                    <label class="btn btn-primary" for="btn-cruxy">Cruxy</label>

                                    <input type="checkbox" class="btn-check" id="btn-endurance" autocomplete="off">
                                    <label class="btn btn-primary" for="btn-endurance">Endurance</label>

                                    <input type="checkbox" class="btn-check" id="btn-crimpy" autocomplete="off">
                                    <label class="btn btn-primary" for="btn-crimpy">Crimpy</label>

                                    <input type="checkbox" class="btn-check" id="btn-sloper" autocomplete="off">
                                    <label class="btn btn-primary" for="btn-sloper">Sloper</label>

                                    <input type="checkbox" class="btn-check" id="btn-technical" autocomplete="off">
                                    <label class="btn btn-primary" for="btn-technical">Technical</label>

                                </div>
                                <div class="mb-3">
                                    <label class="form-label" id="label_style">Least used climbing styles</label>

                                    <input type="checkbox" class="btn-check" id="btn-least-athletic" autocomplete="off">
                                    <label class="btn btn-primary" for="btn-least-athletic">Athletic</label>

                                    <input type="checkbox" class="btn-check" id="btn-least-cruxy" Technical="off">
                                    <label class="btn btn-primary" for="btn-least-cruxy">Cruxy</label>

                                    <input type="checkbox" class="btn-check" id="btn-least-endurance" autocomplete="off">
                                    <label class="btn btn-primary" for="btn-least-endurance">Endurance</label>

                                    <input type="checkbox" class="btn-check" id="btn-least-crimpy" autocomplete="off">
                                    <label class="btn btn-primary" for="btn-least-crimpy">Crimpy</label>

                                    <input type="checkbox" class="btn-check" id="btn-least-sloper" autocomplete="off">
                                    <label class="btn btn-primary" for="btn-least-sloper">Sloper</label>

                                    <input type="checkbox" class="btn-check" id="btn-least-technical" autocomplete="off">
                                    <label class="btn btn-primary" for="btn-least-technical">Technical</label>

                                </div>
                                <div class="mb-3">
                                    <label for="grade" class="form-label" id="label_grade">Climbing grades</label>
                                    <label for="grade" class="form-label" id="label_grade_not_inserted" style="color: #c82829;
                                        display: none">Climbing grades should be inserted</label>
                                    <input type="checkbox" class="btn-check" id="btn-4" autocomplete="off">
                                    <label class="btn btn-primary" for="btn-4">4</label>
                                    <input type="checkbox" class="btn-check" id="btn-5" autocomplete="off">
                                    <label class="btn btn-primary" for="btn-5">5</label>
                                    <input type="checkbox" class="btn-check" id="btn-6a" autocomplete="off">
                                    <label class="btn btn-primary" for="btn-6a">6a</label>
                                    <input type="checkbox" class="btn-check" id="btn-6b" autocomplete="off">
                                    <label class="btn btn-primary" for="btn-6b">6b</label>
                                    <input type="checkbox" class="btn-check" id="btn-6c" autocomplete="off">
                                    <label class="btn btn-primary" for="btn-6c">6c</label>
                                    <input type="checkbox" class="btn-check" id="btn-7a" autocomplete="off">
                                    <label class="btn btn-primary" for="btn-7a">7a</label>
                                    <input type="checkbox" class="btn-check" id="btn-7b" autocomplete="off">
                                    <label class="btn btn-primary" for="btn-7b">7b</label>
                                    <input type="checkbox" class="btn-check" id="btn-7c" autocomplete="off">
                                    <label class="btn btn-primary" for="btn-7c">7c</label>
                                    <input type="checkbox" class="btn-check" id="btn-8a" autocomplete="off">
                                    <label class="btn btn-primary" for="btn-8a">8a</label>
                                    <input type="checkbox" class="btn-check" id="btn-8b" autocomplete="off">
                                    <label class="btn btn-primary" for="btn-8b">8b</label>
                                    <input type="checkbox" class="btn-check" id="btn-8c" autocomplete="off">
                                    <label class="btn btn-primary" for="btn-8c">8c</label>
                                    <input type="checkbox" class="btn-check" id="btn-9a" autocomplete="off">
                                    <label class="btn btn-primary" for="btn-9a">9a</label>
                                </div>
                                <div class="mb-3">
                                    <label for="discipline" class="form-label" id="label_steepness">Favourite wall steepness</label>
                                    <label for="discipline" class="form-label" id="label_steepness_not_inserted" style="color: #c82829;
                                        display: none">Wall steepness should be inserted</label>
                                    <input type="checkbox" class="btn-check" id="btn-slab" autocomplete="off">
                                    <label class="btn btn-primary" for="btn-slab">Slab</label>
                                    <input type="checkbox" class="btn-check" id="btn-vertical" autocomplete="off">
                                    <label class="btn btn-primary" for="btn-vertical">Vertical</label>
                                    <input type="checkbox" class="btn-check" id="btn-overhang" autocomplete="off">
                                    <label class="btn btn-primary" for="btn-overhang">Overhang</label>
                                    <input type="checkbox" class="btn-check" id="btn-roof" autocomplete="off">
                                    <label class="btn btn-primary" for="btn-roof">Roof</label>
                                </div>
                            </div>

                            <div class="left-panel__bottom-ribbon">
                                <div class="container">
                                  <div class="row">
                                    <div class="col-sm">
                                      <button type="submit" class="left-panel__bottom-ribbon__button btn btn-success"
                                              id="btnHome" name='action' value="home">Refresh</button>
                                    </div>
                                    <div class="col-sm">
                                      <button type="submit" class="left-panel__bottom-ribbon__button btn btn-danger"
                                              id="btnRecommend" name='action' value="recommend">Recommend</button>
                                    </div>
                                  </div>
                                </div>
                            </div>
                        </form>
                    </div>
            </div>
            <!-- End profile -->
        </div>
    </div>
    <script src="{{ url_for('static', filename='js/universal.js') }}"/>
    </script>
    <script>

        {% for marker in markers %}
            L.marker([{{ marker['lat'] }}, {{ marker['lon'] }}]).addTo(map)
                .bindPopup("{{ marker['popup'] }}")
                .openPopup();
        {% endfor %}

    </script>
</body>

</html>